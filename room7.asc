// room script file
// room script file

int worship_avail = 0;

function room_LeaveLeft()
{
  cDebra.Move(81, 209, eBlock, eWalkableAreas);
  showGPS();
}

function hMotors_Look()
{
  cDebra.Say("Used car lot. I've heard not to trust them.");
}

function hMercury_Look()
{
  cDebra.Say("Impressive statue of the Roman god Mercury.");
}

function hMercury_Interact()
{

  if (worship_avail == 0) {
    
    int result = dWorship.DisplayOptions();
    
    if (result < 4)
    {
      cMercury.Say("ITS IS I, MERCURY, GOD OF COMMERCE,TRICKERY, bla bla whatever!");
      cMercury.Say("Wait, just one of you?");
      cMercury.Say("It's been a long time since I've had a worshipper.");
      cMercury.Say("Here. Take this.");
      
      
      oPoof.Visible = true;
      oPoof.SetView(20, 1);
      oPoof.Animate(1, 8, eOnce, eBlock, eForwards);
      oPoof.Visible = false;
      
      oMoney.Visible = true;
      
      // Add magic poof. 
      cMercury.Say("Have a nice day!");
      worship_avail = 2;
      // Add lightning bolt and crossed off commandment and show list.
      updateList(1);
      showList();
    }
    else if (result == 4)
    {
      Display("Nothing happens.");
    }

  }
  else {    
    cDebra.Say("I've talked to Mercury enough today."); 
  }
  
}

function oMoney_Look()
{
  cDebra.Walk(340, 216, eBlock, eWalkableAreas);
  cDebra.Say("A ten dollar bill! Mercury's just handing out cash.");
}

function oMoney_Interact()
{ 
  cDebra.Walk(340, 216, eBlock, eWalkableAreas);
  cDebra.Say("Ten dollars! Not bad, Mercury. I'll hang onto this.");
  cDebra.AddInventory(iMoney);
  oMoney.Visible = false;
}
